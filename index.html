<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Zee Web - Henicks GPT Field Tech</title>
<style>
  body { font-family: Arial; margin:0; padding:0; background:#111; color:#00FF00; }
  .hidden { display:none; }
  header { background:#000; padding:15px; text-align:center; color:#00FF00; }
  h1 { margin:0; }
  button { background:#00FF00; color:#111; border:none; padding:10px 15px; border-radius:5px; cursor:pointer; margin-top:5px; }
  button:hover { opacity:0.9; }
  input, textarea { width:100%; margin:5px 0; padding:8px; border-radius:5px; border:none; }
  .container { padding:20px; }
  .card { background:#222; padding:15px; margin-bottom:15px; border-radius:8px; color:#fff; }
  .post-input { margin-bottom:20px; }
  .pre-info { background:#1a1a1a; padding:15px; border-radius:8px; margin-bottom:20px; }
  a { color:#00FF00; text-decoration:none; }
</style>
</head>
<body>

<header>
  <h1>Zee Web</h1>
  <p>Henicks GPT Field Tech</p>
</header>

<!-- LOGIN / SIGN UP SCREEN -->
<div id="authScreen" class="container">
  <h2>Welcome to Zee Web</h2>
  <p>Please Login or Sign Up to continue</p>

  <div class="card">
    <h3>Sign Up</h3>
    <input type="email" id="signupEmail" placeholder="Email">
    <input type="password" id="signupPass" placeholder="Password">
    <button onclick="signUp()">Sign Up</button>
  </div>

  <div class="card">
    <h3>Log In</h3>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPass" placeholder="Password">
    <button onclick="logIn()">Log In</button>
  </div>
</div>

<!-- MAIN WEBSITE SCREEN -->
<div id="mainScreen" class="container hidden">
  <button onclick="logOut()" style="float:right;">Log Out</button>
  <h2>Welcome to Zee Web Chat</h2>

  <!-- Pre-inserted info -->
  <div class="pre-info">
    <h3>About Zee Man</h3>
    <p>Name: Henry Tallen (Zee)</p>
    <p>Grade: 12, Nseko Day Secondary School</p>
    <p>Location: Near Success Shop</p>
    <p>TikTok: <a href="https://www.tiktok.com/@zee_world_comedy" target="_blank">@zee_world_comedy</a> (1.6K followers)</p>
    <p>I make apps, sometimes music, love creating new things and ideas.</p>
  </div>

  <!-- Post upload -->
  <div class="card post-input">
    <h3>Share Your Work / Info</h3>
    <input type="text" id="postTitle" placeholder="Title / Subject">
    <textarea id="postText" placeholder="Write about yourself, your work, etc."></textarea>
    <input type="text" id="postLink" placeholder="Optional: Image or Audio URL">
    <button onclick="uploadPost()">Upload</button>
    <p id="uploadStatus"></p>
  </div>

  <!-- Posts displayed -->
  <h3>All Posts</h3>
  <div id="posts"></div>
</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"></script>

<script>
  // Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCO_Pmu6QYJWbnNvRUYyRLvi6SLIfUrtHI",
    authDomain: "zeeworldyhi.firebaseapp.com",
    databaseURL: "https://zeeworldyhi-default-rtdb.firebaseio.com/",
    projectId: "zeeworldyhi",
    storageBucket: "zeeworldyhi.appspot.com",
    messagingSenderId: "154414924399",
    appId: "1:154414924399:web:4817b6b3e7cb5f91ba439a"
  };

  // Initialize Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.database();

  const authScreen = document.getElementById('authScreen');
  const mainScreen = document.getElementById('mainScreen');
  const postsDiv = document.getElementById('posts');

  // Check auth state
  auth.onAuthStateChanged(user => {
    if(user){
      authScreen.classList.add('hidden');
      mainScreen.classList.remove('hidden');
      loadPosts();
    } else {
      authScreen.classList.remove('hidden');
      mainScreen.classList.add('hidden');
    }
  });

  // Sign Up
  function signUp(){
    const email = document.getElementById('signupEmail').value;
    const pass = document.getElementById('signupPass').value;
    if(!email || !pass) return alert("Fill both fields!");
    auth.createUserWithEmailAndPassword(email, pass)
      .then(() => alert("Sign Up successful!"))
      .catch(err => alert(err.message));
  }

  // Log In
  function logIn(){
    const email = document.getElementById('loginEmail').value;
    const pass = document.getElementById('loginPass').value;
    if(!email || !pass) return alert("Fill both fields!");
    auth.signInWithEmailAndPassword(email, pass)
      .then(() => console.log("Login successful"))
      .catch(err => alert(err.message));
  }

  // Log Out
  function logOut(){
    auth.signOut();
  }

  // Upload Post
  function uploadPost(){
    const title = document.getElementById('postTitle').value || "No title";
    const text = document.getElementById('postText').value;
    const link = document.getElementById('postLink').value || "";
    if(!text) return alert("Write something!");
    const postData = {
      uid: auth.currentUser.uid,
      email: auth.currentUser.email,
      title,
      text,
      link,
      timestamp: Date.now()
    };
    const newRef = db.ref('posts').push();
    newRef.set(postData, err => {
      if(err){
        document.getElementById('uploadStatus').innerText = "Error: "+err;
      } else {
        document.getElementById('uploadStatus').innerText = "Post uploaded!";
        document.getElementById('postTitle').value = "";
        document.getElementById('postText').value = "";
        document.getElementById('postLink').value = "";
      }
    });
  }

  // Load posts
  function loadPosts(){
    db.ref('posts').on('value', snapshot => {
      postsDiv.innerHTML = "";
      const posts = snapshot.val();
      if(!posts) return;
      const keys = Object.keys(posts).sort((a,b)=> posts[b].timestamp - posts[a].timestamp);
      keys.forEach(k => {
        const p = posts[k];
        const card = document.createElement('div');
        card.classList.add('card');
        let html = `<p><strong>${p.title}</strong> by ${p.email}</p>`;
        html += `<p>${p.text}</p>`;
        if(p.link) html += `<p><a href="${p.link}" target="_blank">Link / Media</a></p>`;
        card.innerHTML = html;
        postsDiv.appendChild(card);
      });
    });
  }
</script>

</body>
  </html>
