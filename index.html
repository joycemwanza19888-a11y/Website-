<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zee Web</title>

  <style>
    body {
      font-family: Arial;
      background: #111;
      color: gold;
      padding: 20px;
    }

    textarea, input {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      border: none;
    }

    button {
      margin-top: 10px;
      padding: 10px;
      width: 100%;
      background: gold;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }

    #displayArea {
      margin-top: 30px;
      padding: 15px;
      background: #222;
      border-radius: 10px;
    }

    .post {
      background: #000;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 6px;
    }
  </style>
</head>

<body>

  <h1>Zee Web</h1>

  <h3>Upload Text</h3>

  <textarea id="postText" placeholder="Write something..."></textarea>
  <input type="text" id="postStyle" placeholder="Your style">
  <button onclick="uploadPost()">Upload</button>

  <!-- THIS IS THE DISPLAY SPACE -->
  <div id="displayArea">
    <h3>Posts</h3>
    <div id="postsContainer"></div>
  </div>


  <!-- Firebase v8 (simpler and more reliable for beginners) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <script>
    // Your Firebase config
    var firebaseConfig = {
      apiKey: "AIzaSyCO_Pmu6QYJWbnNvRUYyRLvi6SLIfUrtHI",
      authDomain: "zeeworldyhi.firebaseapp.com",
      databaseURL: "https://zeeworldyhi-default-rtdb.firebaseio.com",
      projectId: "zeeworldyhi",
      storageBucket: "zeeworldyhi.appspot.com",
      messagingSenderId: "154414924399",
      appId: "1:154414924399:web:4817b6b3e7cb5f91ba439a"
    };

    firebase.initializeApp(firebaseConfig);
    var database = firebase.database();

    var postsContainer = document.getElementById("postsContainer");

    function uploadPost() {
      var text = document.getElementById("postText").value.trim();
      var style = document.getElementById("postStyle").value.trim();

      if (text === "") {
        alert("Please write something first.");
        return;
      }

      // CREATE POST OBJECT
      var postData = {
        text: text,
        style: style || "No style",
        time: Date.now()
      };

      // SHOW IMMEDIATELY ON SCREEN
      addPostToScreen(postData);

      // SAVE TO FIREBASE
      database.ref("posts").push(postData);

      // CLEAR INPUTS
      document.getElementById("postText").value = "";
      document.getElementById("postStyle").value = "";
    }

    function addPostToScreen(post) {
      var div = document.createElement("div");
      div.className = "post";
      div.innerHTML = "<strong>" + post.style + "</strong><br>" + post.text;
      postsContainer.prepend(div);
    }

    // LOAD EXISTING POSTS FROM FIREBASE
    database.ref("posts").on("child_added", function(snapshot) {
      addPostToScreen(snapshot.val());
    });

  </script>

</body>
</html>
